<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->
<actionGroups xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/actionGroupSchema.xsd">
    <actionGroup name="AdminSaveCmsPageAndAssertImagePreviewActionGroup">
        <click selector="{{AdobeStockSection.imagesThumbnails}}" stepKey="clickOnThumbnail"/>
        <grabAttributeFrom selector="{{AdobeStockSection.imagePreview}}" userInput="src" stepKey="getUrlImageFromCmsPage"/>
        <click selector="{{AdobeStockSection.savePreview}}" stepKey="clickOnSavePreview"/>
        <wait stepKey="waitForOkButton" time="2"/>
        <click selector="{{MediaGallerySection.OkBtn}}" stepKey="clickOkBtn" />
        <click selector="{{CmsNewPagePageActionsSection.expandSplitButton}}" stepKey="expandButtonMenu"/>
        <waitForElementVisible selector="{{CmsNewPagePageActionsSection.splitButtonMenu}}" stepKey="waitForSplitButtonMenuVisible"/>
        <click selector="{{CmsNewPagePageActionsSection.savePage}}" stepKey="savePage"/>
        <see userInput="You saved the page." stepKey="seeSuccessMessage"/>
        <amOnPage url="$$createCMSPage.identifier$$" stepKey="amOnPageTestPage2"/>
        <seeElement selector="//img[@src='{$getUrlImageFromCmsPage}']" stepKey="AssertImageOnFrontEnd"/>
    </actionGroup>
</actionGroups>